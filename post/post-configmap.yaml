apiVersion: v1
kind: ConfigMap
metadata:
  namespace: k8s-program
  name: post-config
data:
  database: posts
  database_url: jdbc:postgresql://post-database:5432/posts
  user_service_url: http://user-service:81
  hibernate_create: create-drop
  init.sql: |
    CREATE DATABASE IF NOT EXISTS posts;
    USE posts;
    CREATE TABLE posts (
      id        serial PRIMARY KEY,
      author_id INTEGER UNIQUE NOT NULL,
      text      VARCHAR(255)   NOT NULL,
      posted_at TIMESTAMP      NOT NULL
    ); 
